{"version":3,"file":"shadow.6f847103.js","sources":["../../src/view/shadow.vue"],"sourcesContent":["<template>\n  <we-editor-plus\n    toolbar-class=\"toolbar border\"\n    editable-class=\"editable border\"\n    :css-rule=\"cssRule\"\n    :toolbar-option=\"toolbar\"\n    :editable-option=\"editable\"\n    v-model=\"formData.json\"\n    v-model:json=\"formData.jsonStr\"\n    v-model:html=\"formData.html\"\n  />\n  <br />\n  <el-card shadow=\"never\">\n    <el-button :disabled=\"modelType === 'json'\" @click=\"modelType = 'json'\">预览 JSON Array</el-button>\n    <el-button :disabled=\"modelType === 'jstr'\" @click=\"modelType = 'jstr'\">预览 JSON String</el-button>\n    <el-button :disabled=\"modelType === 'html'\" @click=\"modelType = 'html'\">预览 HTML String</el-button>\n  </el-card>\n  <br />\n  <u-prism :lang=\"modelType === 'html' ? 'html' : 'json'\" :content=\"preview\" />\n</template>\n\n<script lang=\"ts\">\n  import { WeCssRuleList, WeEditableOption, WeToolbarOption, useWangEditor } from 'wangeditor5-for-vue3'\n  import { computed, defineComponent, ref, shallowReactive } from 'vue'\n  import { SlateDescendant } from '@wangeditor/editor'\n  import UPrism from '../components/u-prism.vue'\n\n  export default defineComponent({\n    components: { UPrism },\n    setup() {\n      // 编辑器配置\n      const editableOption: WeEditableOption = {\n        config: {\n          placeholder: 'shadow 模式',\n        },\n        delay: 1000,\n      }\n\n      // 菜单栏配置\n      const toolbarOption: WeToolbarOption = {}\n\n      // 防抖时长。当配置发生变化 365ms 后，编辑器的销毁重建\n      const reloadDelary = 365\n\n      const { editable, toolbar } = useWangEditor(editableOption, toolbarOption, reloadDelary)\n\n      // 注意：是 shallowReactive 而不是 reactive\n      const formData = shallowReactive({\n        json: [] as SlateDescendant[],\n        jsonStr: '',\n        html: '',\n      })\n\n      const modelType = ref<'json' | 'jstr' | 'html'>('json')\n\n      const preview = computed(() => {\n        switch (modelType.value) {\n          case 'json':\n            return JSON.stringify(formData.json, null, 2)\n          case 'jstr':\n            return formData.jsonStr\n          default:\n            return formData.html\n        }\n      })\n\n      const cssRule: WeCssRuleList = {\n        '.editable': {\n          height: '500px',\n        },\n        '.border': {\n          border: '1px solid #e5e5e5',\n        },\n      }\n\n      return { editable, toolbar, formData, modelType, preview, cssRule }\n    },\n  })\n</script>\n"],"names":["_createElementVNode","_createVNode","_withCtx"],"mappings":"0IA2BE,KAAK,GAAa,EAAa,CAC7B,WAAY,CAAE,QAAO,EACrB,OAAQ,CAEN,KAAM,GAAmC,CACvC,OAAQ,CACN,YAAa,qBACf,EACA,MAAO,GAAA,EAIH,EAAiC,CAAA,EAGjC,EAAe,IAEf,CAAE,WAAU,WAAY,EAAc,EAAgB,EAAe,CAAY,EAGjF,EAAW,EAAgB,CAC/B,KAAM,CAAC,EACP,QAAS,GACT,KAAM,EAAA,CACP,EAEK,EAAY,EAA8B,MAAM,EAEhD,EAAU,EAAS,IAAM,CAC7B,OAAQ,EAAU,WACX,OACH,MAAO,MAAK,UAAU,EAAS,KAAM,KAAM,CAAC,MACzC,OACH,MAAO,GAAS,gBAEhB,MAAO,GAAS,KAAA,CAErB,EAWD,MAAO,CAAE,WAAU,UAAS,WAAU,YAAW,UAAS,QAT3B,CAC7B,YAAa,CACX,OAAQ,OACV,EACA,UAAW,CACT,OAAQ,mBACV,CAAA,EAIJ,CACF,CAAC,IAlEKA,EAAA,KAAA,KAAA,KAAA,EAAA,MAEoE,yBAAa,MACb,0BAAc,MACd,0BAAc,IAElFA,EAAA,KAAA,KAAA,KAAA,EAAA,0HAhBNC,EASE,EAAA,CARA,gBAAc,iBACd,iBAAe,kBACd,WAAU,EAAA,QACV,iBAAgB,EAAA,QAChB,kBAAiB,EAAA,SAAA,WACT,EAAS,SAAA,KAAA,sBAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAT,WAAS,KAAI,GACd,KAAM,EAAS,SAAA,QAAA,gBAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAT,WAAS,QAAO,GACtB,KAAM,EAAS,SAAA,KAAA,gBAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAT,WAAS,KAAI,EAAA,EAAA,KAAA,EAAA,CAAA,WAAA,iBAAA,kBAAA,aAAA,OAAA,MAAA,CAAA,EAE7B,EACAA,EAIU,EAJD,CAAA,OAAO,OAAO,EAAA,CAAA,QAAAC,EACrB,IAAiG,CAAjGD,EAAiG,EAAA,CAArF,SAAU,EAAS,YAAA,OAAc,QAAK,eAAE,EAAS,UAAA,OAAA,EAAA,WAAW,IAAa,CAAA,yBACrFA,EAAkG,EAAA,CAAtF,SAAU,EAAS,YAAA,OAAc,QAAK,eAAE,EAAS,UAAA,OAAA,EAAA,WAAW,IAAc,CAAA,yBACtFA,EAAkG,EAAA,CAAtF,SAAU,EAAS,YAAA,OAAc,QAAK,eAAE,EAAS,UAAA,OAAA,EAAA,WAAW,IAAc,CAAA,iCAExF,EACAA,EAA6E,EAAA,CAAnE,KAAM,EAAS,YAAA,OAAA,OAAA,OAAgC,QAAS,EAAA,OAAA,EAAA,KAAA,EAAA,CAAA,OAAA,SAAA,CAAA"}