{"version":3,"file":"sync-content.5013ff30.js","sources":["../../src/view/sync-content.vue"],"sourcesContent":["<template>\n  <el-form ref=\"ruleForm\" label-position=\"top\" :model=\"formData\" :rules=\"formRule\">\n    <el-form-item label=\"文章\" prop=\"json\">\n      <we-editor\n        toolbar-class=\"toolbar\"\n        editable-class=\"editable\"\n        :toolbar-option=\"toolbar\"\n        :editable-option=\"editable\"\n        v-model:json=\"formData.json\"\n        v-model:html=\"formData.html\"\n      />\n    </el-form-item>\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"submit\">提交表单</el-button>\n    </el-form-item>\n  </el-form>\n  <br />\n  <u-prism style=\"--u-scroll-height: 300px\" lang=\"json\" :content=\"formData.json\" />\n</template>\n\n<script lang=\"ts\">\n  import { FormInstance, FormRules } from 'element-plus'\n  import { defineComponent, reactive, Ref, ref } from 'vue'\n  import { useWangEditor } from 'wangeditor5-for-vue3'\n  import UPrism from '../components/u-prism.vue'\n\n  export default defineComponent({\n    components: { UPrism },\n    setup() {\n      const ruleForm = ref<any>(null) as Ref<FormInstance>\n\n      const formData = reactive({\n        json: '',\n        html: '',\n      })\n\n      const formRule: FormRules = {\n        json: [{ required: true, message: '内容不能为空', trigger: 'change' }],\n      }\n\n      const { editable, toolbar, syncContent } = useWangEditor({\n        delay: 5000,\n        config: {\n          placeholder: '无操作 5s 后才会同步表单数据，表单提交前使用 syncContent API 强制同步数据，确保数据不被丢失',\n        },\n      })\n\n      // 表单提交\n      function submit() {\n        syncContent()\n        ruleForm.value.validate((valid) => {\n          if (!valid) return\n          console.log({ ...formData })\n        })\n      }\n\n      return { ruleForm, formData, formRule, editable, toolbar, submit }\n    },\n  })\n</script>\n"],"names":["_createElementVNode","_createVNode","_withCtx"],"mappings":"4dA0BE,KAAK,GAAa,EAAa,CAC7B,WAAY,CAAE,QAAO,EACrB,OAAQ,CACA,KAAA,GAAW,EAAS,IAAI,EAExB,EAAW,EAAS,CACxB,KAAM,GACN,KAAM,EAAA,CACP,EAEK,EAAsB,CAC1B,KAAM,CAAC,CAAE,SAAU,GAAM,QAAS,uCAAU,QAAS,SAAU,CAAA,EAG3D,CAAE,WAAU,UAAS,eAAgB,EAAc,CACvD,MAAO,IACP,OAAQ,CACN,YAAa,yOACf,CAAA,CACD,EAGiB,YAAA,CACJ,IACH,EAAA,MAAM,SAAS,AAAC,GAAU,CACjC,AAAI,CAAC,GACG,QAAA,IAAI,KAAK,EAAU,CAAA,CAC5B,CACH,CAEA,MAAO,CAAE,WAAU,WAAU,WAAU,WAAU,UAAS,SAC5D,CACF,CAAC,MA7C6C,0BAAI,IAG5CA,EAAA,KAAA,KAAA,KAAA,EAAA,yIAfNC,EAcU,EAAA,CAdD,IAAI,WAAW,iBAAe,MAAO,MAAO,EAAA,SAAW,MAAO,EAAA,QAAA,EAAA,WACrE,IASe,CATfA,EASe,EAAA,CATD,MAAM,eAAK,KAAK,MAAA,EAAA,WAC5B,IAOE,CAPFA,EAOE,EAAA,CANA,gBAAc,UACd,iBAAe,WACd,iBAAgB,EAAA,QAChB,kBAAiB,EAAA,SACV,KAAM,EAAS,SAAA,KAAA,gBAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAT,WAAS,KAAI,GACnB,KAAM,EAAS,SAAA,KAAA,gBAAA,EAAA,IAAA,GAAA,GAAA,AAAA,GAAT,WAAS,KAAI,EAAA,EAAA,KAAA,EAAA,CAAA,iBAAA,kBAAA,OAAA,MAAA,CAAA,UAG/BA,EAEe,EAAA,KAAA,CAAA,QAAAC,EADb,IAA0D,CAA1DD,EAA0D,EAAA,CAA/C,KAAK,UAAW,QAAO,EAAA,MAAA,EAAA,WAAQ,IAAI,CAAA,4DAGlD,EACAA,EAAiF,EAAA,CAAxE,MAAA,CAAA,oBAAA,OAAA,EAAiC,KAAK,OAAQ,QAAS,EAAS,SAAA,IAAA,EAAA,KAAA,EAAA,CAAA,SAAA,CAAA"}